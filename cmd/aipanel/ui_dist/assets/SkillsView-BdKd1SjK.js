import{s as V}from"./index-BF1X9mkB.js";import{d as D,h as F,c as x,f as r,a as l,w as o,k as C,l as I,g as w,r as a,o as c,e as i,F as M,j as P,t as f,q as R,E as _,L as O}from"./index-Cp9TmmPw.js";const T={class:"skills-page"},A={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"20px"}},G={style:{display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"8px"}},H={style:{"font-weight":"600","font-size":"16px"}},W=D({__name:"SkillsView",setup(J){const y=w([]),d=w(!1),g=w(!1),n=R({id:"",name:"",description:"",path:""});F(k);async function k(){try{const s=await V.list();y.value=s.data}catch{}}async function S(){if(!n.id||!n.name){_.warning("è¯·å¡«å†™ ID å’Œåç§°");return}g.value=!0;try{await V.install({...n}),_.success("å®‰è£…æˆåŠŸ"),d.value=!1,Object.assign(n,{id:"",name:"",description:"",path:""}),k()}catch(s){_.error(s.response?.data?.error||"å®‰è£…å¤±è´¥")}finally{g.value=!1}}async function U(s){try{await O.confirm(`ç¡®å®šå¸è½½ "${s.name}"ï¼Ÿ`,"ç¡®è®¤å¸è½½",{type:"warning"}),await V.delete(s.id),_.success("å·²å¸è½½"),k()}catch{}}return(s,e)=>{const z=a("Plus"),B=a("el-icon"),m=a("el-button"),v=a("el-text"),L=a("el-switch"),h=a("el-card"),j=a("el-col"),E=a("el-row"),N=a("el-empty"),u=a("el-input"),p=a("el-form-item"),$=a("el-form"),q=a("el-dialog");return c(),x("div",T,[r("div",A,[e[8]||(e[8]=r("h2",{style:{margin:"0"}},"ðŸŽ¯ Skills",-1)),l(m,{type:"primary",onClick:e[0]||(e[0]=t=>d.value=!0)},{default:o(()=>[l(B,null,{default:o(()=>[l(z)]),_:1}),e[7]||(e[7]=i(" å®‰è£… Skill ",-1))]),_:1})]),l(E,{gutter:16},{default:o(()=>[(c(!0),x(M,null,P(y.value,t=>(c(),C(j,{span:8,key:t.id},{default:o(()=>[l(h,{shadow:"hover",style:{"margin-bottom":"16px"}},{default:o(()=>[r("div",G,[r("div",null,[r("div",H,f(t.name),1),l(v,{type:"info",size:"small"},{default:o(()=>[i("v"+f(t.version),1)]),_:2},1024)]),l(L,{modelValue:t.enabled,"onUpdate:modelValue":b=>t.enabled=b,size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),l(v,{type:"info",size:"small",style:{display:"block","margin-bottom":"12px"}},{default:o(()=>[i(f(t.description||"æ— æè¿°"),1)]),_:2},1024),l(v,{type:"info",size:"small",style:{display:"block","margin-bottom":"12px"}},{default:o(()=>[i(" è·¯å¾„: "+f(t.path||"-"),1)]),_:2},1024),l(m,{size:"small",type:"danger",onClick:b=>U(t)},{default:o(()=>[...e[9]||(e[9]=[i("å¸è½½",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),y.value.length===0?(c(),C(N,{key:0,description:"æš‚æ— å·²å®‰è£… Skills"})):I("",!0),l(q,{modelValue:d.value,"onUpdate:modelValue":e[6]||(e[6]=t=>d.value=t),title:"å®‰è£… Skill",width:"520px"},{footer:o(()=>[l(m,{onClick:e[5]||(e[5]=t=>d.value=!1)},{default:o(()=>[...e[10]||(e[10]=[i("å–æ¶ˆ",-1)])]),_:1}),l(m,{type:"primary",onClick:S,loading:g.value},{default:o(()=>[...e[11]||(e[11]=[i("å®‰è£…",-1)])]),_:1},8,["loading"])]),default:o(()=>[l($,{model:n,"label-width":"80px"},{default:o(()=>[l(p,{label:"ID",required:""},{default:o(()=>[l(u,{modelValue:n.id,"onUpdate:modelValue":e[1]||(e[1]=t=>n.id=t),placeholder:"skill-id"},null,8,["modelValue"])]),_:1}),l(p,{label:"åç§°",required:""},{default:o(()=>[l(u,{modelValue:n.name,"onUpdate:modelValue":e[2]||(e[2]=t=>n.name=t),placeholder:"Skill åç§°"},null,8,["modelValue"])]),_:1}),l(p,{label:"æè¿°"},{default:o(()=>[l(u,{modelValue:n.description,"onUpdate:modelValue":e[3]||(e[3]=t=>n.description=t),type:"textarea",rows:2},null,8,["modelValue"])]),_:1}),l(p,{label:"è·¯å¾„/URL"},{default:o(()=>[l(u,{modelValue:n.path,"onUpdate:modelValue":e[4]||(e[4]=t=>n.path=t),placeholder:"æœ¬åœ°è·¯å¾„æˆ–è¿œç¨‹ URL"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{W as default};
