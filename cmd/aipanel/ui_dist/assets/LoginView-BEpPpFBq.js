import{d as k,c as V,a as o,w as t,r as a,u as b,o as I,b as x,e as p,f as r,g as d,E as _}from"./index-D93vx-Bb.js";import{a as C}from"./index-C6G0aGO3.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"login-wrapper"},L={class:"login-header"},M=k({__name:"LoginView",setup(S){const i=b(),l=d(""),n=d(!1);async function c(){n.value=!0;try{localStorage.setItem("aipanel_token",l.value),await C.get("/health"),_.success("登录成功"),i.push("/")}catch{_.error("令牌无效"),localStorage.removeItem("aipanel_token")}finally{n.value=!1}}function m(){localStorage.removeItem("aipanel_token"),i.push("/")}return(B,e)=>{const f=a("Monitor"),g=a("el-icon"),v=a("el-input"),s=a("el-form-item"),u=a("el-button"),w=a("el-form"),y=a("el-card");return I(),V("div",E,[o(y,{class:"login-card",shadow:"always"},{header:t(()=>[r("div",L,[o(g,{size:32,color:"#409EFF"},{default:t(()=>[o(f)]),_:1}),e[1]||(e[1]=r("h2",null,"AI Company Panel",-1)),e[2]||(e[2]=r("p",{class:"subtitle"},"AI 公司操作系统",-1))])]),default:t(()=>[o(w,{onSubmit:x(c,["prevent"])},{default:t(()=>[o(s,{label:"访问令牌"},{default:t(()=>[o(v,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=h=>l.value=h),type:"password",placeholder:"输入 Token（默认 changeme 可跳过）","show-password":"",size:"large"},null,8,["modelValue"])]),_:1}),o(s,null,{default:t(()=>[o(u,{type:"primary","native-type":"submit",loading:n.value,size:"large",style:{width:"100%"}},{default:t(()=>[...e[3]||(e[3]=[p(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),o(s,null,{default:t(()=>[o(u,{type:"default",onClick:m,size:"large",style:{width:"100%"}},{default:t(()=>[...e[4]||(e[4]=[p(" 跳过（无密码模式） ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])}}}),T=z(M,[["__scopeId","data-v-a323587a"]]);export{T as default};
