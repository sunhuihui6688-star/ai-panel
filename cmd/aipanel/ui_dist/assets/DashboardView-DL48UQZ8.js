import{u as T}from"./agents-GGZ4CLEB.js";import{s as V}from"./index-C3p5gGNP.js";import{d as S,h as B,c as w,f as l,a as s,w as t,i as v,j as x,g as F,r,t as o,k as b,e as i,n as N,F as D,l as M,o as p}from"./index-BEpYWqkI.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"dashboard-page"},E={class:"stat-info"},q={class:"stat-value"},G={class:"stat-info"},H={class:"stat-value"},J={class:"stat-info"},K={class:"stat-value"},O={class:"stat-info"},P={class:"stat-value"},Q={style:{display:"flex","justify-content":"space-between","align-items":"center"}},R={style:{display:"flex","align-items":"center",gap:"8px"}},U=S({__name:"DashboardView",setup(W){const _=T(),u=F(null);B(async()=>{_.fetchAll();try{const n=await V.get();u.value=n.data}catch{}});function C(n){return n==="running"?"success":n==="stopped"?"danger":"info"}function $(n){return n==="running"?"è¿è¡Œä¸­":n==="stopped"?"å·²åœæ­¢":"ç©ºé—²"}function k(n){return n?n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}k`:String(n):"0"}return(n,e)=>{const f=r("el-card"),m=r("el-col"),z=r("el-row"),y=r("el-button"),d=r("el-table-column"),c=r("el-tag"),h=r("el-table"),A=r("el-text"),I=r("el-empty");return p(),w("div",L,[e[14]||(e[14]=l("h2",{style:{margin:"0 0 20px"}},"ä»ªè¡¨ç›˜",-1)),s(z,{gutter:16,style:{"margin-bottom":"24px"}},{default:t(()=>[s(m,{span:6},{default:t(()=>[s(f,{shadow:"hover",class:"stat-card"},{default:t(()=>[e[2]||(e[2]=l("div",{class:"stat-icon",style:{background:"#ecf5ff",color:"#409eff"}},"ğŸ‘¥",-1)),l("div",E,[l("div",q,o(u.value?.agents.total??b(_).list.length),1),e[1]||(e[1]=l("div",{class:"stat-label"},"AI æˆå‘˜",-1))])]),_:1})]),_:1}),s(m,{span:6},{default:t(()=>[s(f,{shadow:"hover",class:"stat-card"},{default:t(()=>[e[4]||(e[4]=l("div",{class:"stat-icon",style:{background:"#f0f9eb",color:"#67c23a"}},"ğŸ’¬",-1)),l("div",G,[l("div",H,o(u.value?.sessions.total??0),1),e[3]||(e[3]=l("div",{class:"stat-label"},"å¯¹è¯æ€»æ•°",-1))])]),_:1})]),_:1}),s(m,{span:6},{default:t(()=>[s(f,{shadow:"hover",class:"stat-card"},{default:t(()=>[e[6]||(e[6]=l("div",{class:"stat-icon",style:{background:"#fdf6ec",color:"#e6a23c"}},"ğŸ“¨",-1)),l("div",J,[l("div",K,o(u.value?.sessions.totalMessages??0),1),e[5]||(e[5]=l("div",{class:"stat-label"},"æ¶ˆæ¯æ€»æ•°",-1))])]),_:1})]),_:1}),s(m,{span:6},{default:t(()=>[s(f,{shadow:"hover",class:"stat-card"},{default:t(()=>[e[8]||(e[8]=l("div",{class:"stat-icon",style:{background:"#fef0f0",color:"#f56c6c"}},"ğŸ”¢",-1)),l("div",O,[l("div",P,o(k(u.value?.sessions.totalTokens??0)),1),e[7]||(e[7]=l("div",{class:"stat-label"},"Token ç”¨é‡",-1))])]),_:1})]),_:1})]),_:1}),u.value?.topAgents?.length?(p(),v(f,{key:0,shadow:"hover",style:{"margin-bottom":"24px"}},{header:t(()=>[...e[9]||(e[9]=[l("span",{style:{"font-weight":"600"}},"ğŸ“Š æˆå‘˜ç”¨é‡æ’è¡Œ",-1)])]),default:t(()=>[s(h,{data:u.value.topAgents,stripe:"",style:{width:"100%"}},{default:t(()=>[s(d,{label:"æˆå‘˜","min-width":"140"},{default:t(({row:a})=>[s(y,{type:"primary",link:"",onClick:g=>n.$router.push(`/agents/${a.id}`)},{default:t(()=>[i(o(a.name),1)]),_:2},1032,["onClick"])]),_:1}),s(d,{label:"å¯¹è¯æ•°",width:"100",align:"center"},{default:t(({row:a})=>[s(c,{size:"small",type:"info"},{default:t(()=>[i(o(a.sessions),1)]),_:2},1024)]),_:1}),s(d,{label:"æ¶ˆæ¯æ•°",width:"100",align:"center"},{default:t(({row:a})=>[i(o(a.messages),1)]),_:1}),s(d,{label:"Token ç”¨é‡",width:"130",align:"center"},{default:t(({row:a})=>[s(c,{size:"small",type:a.tokens>1e5?"danger":a.tokens>5e4?"warning":"success",effect:"plain"},{default:t(()=>[i(o(k(a.tokens)),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])]),_:1})):x("",!0),s(f,{shadow:"hover"},{header:t(()=>[l("div",Q,[e[11]||(e[11]=l("span",{style:{"font-weight":"600"}},"æˆå‘˜çŠ¶æ€",-1)),s(y,{type:"primary",size:"small",onClick:e[0]||(e[0]=a=>n.$router.push("/agents"))},{default:t(()=>[...e[10]||(e[10]=[i(" ç®¡ç†æˆå‘˜ ",-1)])]),_:1})])]),default:t(()=>[s(h,{data:b(_).list,stripe:"",style:{width:"100%"}},{default:t(()=>[s(d,{label:"åç§°","min-width":"150"},{default:t(({row:a})=>[l("div",R,[l("div",{class:"avatar-dot",style:N({background:a.avatarColor||"#409eff"})},o(a.name.charAt(0)),5),l("span",null,o(a.name),1)])]),_:1}),s(d,{label:"æ¨¡å‹","min-width":"180"},{default:t(({row:a})=>[s(c,{size:"small",type:"info"},{default:t(()=>[i(o(a.modelId||a.model||"-"),1)]),_:2},1024)]),_:1}),s(d,{label:"é€šé“","min-width":"140"},{default:t(({row:a})=>[a.channelIds?.length?(p(!0),w(D,{key:0},M(a.channelIds,g=>(p(),v(c,{key:g,size:"small",style:{"margin-right":"4px"}},{default:t(()=>[i(o(g),1)]),_:2},1024))),128)):(p(),v(A,{key:1,type:"info",size:"small"},{default:t(()=>[...e[12]||(e[12]=[i("â€”",-1)])]),_:1}))]),_:1}),s(d,{label:"çŠ¶æ€",width:"100"},{default:t(({row:a})=>[s(c,{type:C(a.status),size:"small"},{default:t(()=>[i(o($(a.status)),1)]),_:2},1032,["type"])]),_:1}),s(d,{label:"æ“ä½œ",width:"100"},{default:t(({row:a})=>[s(y,{type:"primary",size:"small",link:"",onClick:g=>n.$router.push(`/agents/${a.id}`)},{default:t(()=>[...e[13]||(e[13]=[i(" å¯¹è¯ ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),b(_).list.length===0?(p(),v(I,{key:0,description:"æš‚æ—  AI æˆå‘˜"})):x("",!0)]),_:1})])}}}),et=j(U,[["__scopeId","data-v-3575d8e7"]]);export{et as default};
