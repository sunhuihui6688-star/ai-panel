import{d as k,c as V,a as o,w as t,r as a,u as b,o as x,b as z,e as d,f as r,g as p,E as _}from"./index-CdcKrFsV.js";import{a as I}from"./index-Do6KhBZp.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"login-wrapper"},L={class:"login-header"},M=k({__name:"LoginView",setup(S){const i=b(),l=p(""),n=p(!1);async function c(){n.value=!0;try{localStorage.setItem("aipanel_token",l.value),await I.get("/health"),_.success("登录成功"),i.push("/")}catch{_.error("令牌无效"),localStorage.removeItem("aipanel_token")}finally{n.value=!1}}function m(){localStorage.removeItem("aipanel_token"),i.push("/")}return(B,e)=>{const f=a("Monitor"),g=a("el-icon"),v=a("el-input"),s=a("el-form-item"),u=a("el-button"),w=a("el-form"),y=a("el-card");return x(),V("div",E,[o(y,{class:"login-card",shadow:"always"},{header:t(()=>[r("div",L,[o(g,{size:32,color:"#409EFF"},{default:t(()=>[o(f)]),_:1}),e[1]||(e[1]=r("h2",null,"引巢 · ZyHive",-1)),e[2]||(e[2]=r("p",{class:"subtitle"},"zyling AI 团队操作系统",-1))])]),default:t(()=>[o(w,{onSubmit:z(c,["prevent"])},{default:t(()=>[o(s,{label:"访问令牌"},{default:t(()=>[o(v,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=h=>l.value=h),type:"password",placeholder:"输入 Token（默认 changeme 可跳过）","show-password":"",size:"large"},null,8,["modelValue"])]),_:1}),o(s,null,{default:t(()=>[o(u,{type:"primary","native-type":"submit",loading:n.value,size:"large",style:{width:"100%"}},{default:t(()=>[...e[3]||(e[3]=[d(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),o(s,null,{default:t(()=>[o(u,{type:"default",onClick:m,size:"large",style:{width:"100%"}},{default:t(()=>[...e[4]||(e[4]=[d(" 跳过（无密码模式） ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])}}}),A=C(M,[["__scopeId","data-v-6e913e1e"]]);export{A as default};
