import{u as B}from"./agents-DRt7ep_C.js";import{m as N,c as S}from"./index-BF1X9mkB.js";import{d as D,h as j,c as k,f as e,a,w as s,g as w,r as o,t as d,i as v,n as F,e as i,F as L,j as R,k as g,l as T,m as E,o as f}from"./index-CmDxMhrB.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"dashboard-page"},q={class:"stat-info"},G={class:"stat-value"},H={class:"stat-info"},J={class:"stat-value"},K={class:"stat-info"},O={class:"stat-value"},Q={class:"stat-info"},U={class:"stat-value"},W={style:{display:"flex","justify-content":"space-between","align-items":"center"}},X={style:{display:"flex","align-items":"center",gap:"8px"}},Y=D({__name:"DashboardView",setup(Z){const r=B(),y=w(0),b=w(0),x=E(()=>r.list.filter(n=>n.status==="running").length);j(async()=>{r.fetchAll();try{const[n,t]=await Promise.all([N.list(),S.list()]);y.value=n.data.length,b.value=t.data.length}catch{}});function C(n){return n==="running"?"success":n==="stopped"?"danger":"info"}function z(n){return n==="running"?"è¿è¡Œä¸­":n==="stopped"?"å·²åœæ­¢":"ç©ºé—²"}return(n,t)=>{const u=o("el-card"),m=o("el-col"),I=o("el-row"),h=o("el-button"),c=o("el-table-column"),p=o("el-tag"),V=o("el-text"),A=o("el-table"),$=o("el-empty");return f(),k("div",P,[t[13]||(t[13]=e("h2",{style:{margin:"0 0 20px"}},"ä»ªè¡¨ç›˜",-1)),a(I,{gutter:16,style:{"margin-bottom":"24px"}},{default:s(()=>[a(m,{span:6},{default:s(()=>[a(u,{shadow:"hover",class:"stat-card"},{default:s(()=>[t[2]||(t[2]=e("div",{class:"stat-icon",style:{background:"#ecf5ff",color:"#409eff"}},"ğŸ‘¥",-1)),e("div",q,[e("div",G,d(v(r).list.length),1),t[1]||(t[1]=e("div",{class:"stat-label"},"AI å‘˜å·¥",-1))])]),_:1})]),_:1}),a(m,{span:6},{default:s(()=>[a(u,{shadow:"hover",class:"stat-card"},{default:s(()=>[t[4]||(t[4]=e("div",{class:"stat-icon",style:{background:"#f0f9eb",color:"#67c23a"}},"âœ…",-1)),e("div",H,[e("div",J,d(x.value),1),t[3]||(t[3]=e("div",{class:"stat-label"},"è¿è¡Œä¸­",-1))])]),_:1})]),_:1}),a(m,{span:6},{default:s(()=>[a(u,{shadow:"hover",class:"stat-card"},{default:s(()=>[t[6]||(t[6]=e("div",{class:"stat-icon",style:{background:"#fdf6ec",color:"#e6a23c"}},"ğŸ¤–",-1)),e("div",K,[e("div",O,d(y.value),1),t[5]||(t[5]=e("div",{class:"stat-label"},"å·²é…ç½®æ¨¡å‹",-1))])]),_:1})]),_:1}),a(m,{span:6},{default:s(()=>[a(u,{shadow:"hover",class:"stat-card"},{default:s(()=>[t[8]||(t[8]=e("div",{class:"stat-icon",style:{background:"#fef0f0",color:"#f56c6c"}},"ğŸ“¡",-1)),e("div",Q,[e("div",U,d(b.value),1),t[7]||(t[7]=e("div",{class:"stat-label"},"æ¶ˆæ¯é€šé“",-1))])]),_:1})]),_:1})]),_:1}),a(u,{shadow:"hover"},{header:s(()=>[e("div",W,[t[10]||(t[10]=e("span",{style:{"font-weight":"600"}},"å‘˜å·¥çŠ¶æ€",-1)),a(h,{type:"primary",size:"small",onClick:t[0]||(t[0]=l=>n.$router.push("/agents"))},{default:s(()=>[...t[9]||(t[9]=[i(" ç®¡ç†å‘˜å·¥ ",-1)])]),_:1})])]),default:s(()=>[a(A,{data:v(r).list,stripe:"",style:{width:"100%"}},{default:s(()=>[a(c,{label:"åç§°","min-width":"150"},{default:s(({row:l})=>[e("div",X,[e("div",{class:"avatar-dot",style:F({background:l.avatarColor||"#409eff"})},d(l.name.charAt(0)),5),e("span",null,d(l.name),1)])]),_:1}),a(c,{label:"æ¨¡å‹","min-width":"180"},{default:s(({row:l})=>[a(p,{size:"small",type:"info"},{default:s(()=>[i(d(l.modelId||l.model||"-"),1)]),_:2},1024)]),_:1}),a(c,{label:"é€šé“","min-width":"140"},{default:s(({row:l})=>[l.channelIds?.length?(f(!0),k(L,{key:0},R(l.channelIds,_=>(f(),g(p,{key:_,size:"small",style:{"margin-right":"4px"}},{default:s(()=>[i(d(_),1)]),_:2},1024))),128)):(f(),g(V,{key:1,type:"info",size:"small"},{default:s(()=>[...t[11]||(t[11]=[i("â€”",-1)])]),_:1}))]),_:1}),a(c,{label:"çŠ¶æ€",width:"100"},{default:s(({row:l})=>[a(p,{type:C(l.status),size:"small"},{default:s(()=>[i(d(z(l.status)),1)]),_:2},1032,["type"])]),_:1}),a(c,{label:"æ“ä½œ",width:"100"},{default:s(({row:l})=>[a(h,{type:"primary",size:"small",link:"",onClick:_=>n.$router.push(`/agents/${l.id}`)},{default:s(()=>[...t[12]||(t[12]=[i(" å¯¹è¯ ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),v(r).list.length===0?(f(),g($,{key:0,description:"æš‚æ—  AI å‘˜å·¥"})):T("",!0)]),_:1})])}}}),lt=M(Y,[["__scopeId","data-v-7341b043"]]);export{lt as default};
